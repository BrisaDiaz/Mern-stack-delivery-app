{"version":3,"sources":["components/Buttons.js","components/SortProductsOptions.js","components/PaginationButtons.js","components/menu/Menu.js","hooks/useMenu.js","components/menu/ProductsSection.js","img/loupe.svg","components/MenuSearchBar.js","components/ProductsSectionSkeleton.js","components/menu/MenuItem.js","components/FilterCategoryOptions.js","components/OrdersTableSkeleton.js","img/refresh.svg","API/deleteOrderAPI.js","components/account/UserOrdersPage.js","hooks/useUserOrdersPage.js"],"names":["Button","styled","a","props","theme","lightBoxShadow","darckYellow","small","black","ButtonPrimary","orange","OptionList","select","Option","option","SortProductsOptions","setSortPreferece","defaultValue","name","value","onChange","e","target","ButtonsWrapper","div","PaginationButtons","page","maxPage","setPage","onClick","StyledMenu","main","SectionTitle","h2","light","darckTextShadow","MenuWrapper","section","LoaderSpinner","CategoryTitle","h4","SearchBarWrapper","CategoryWrapper","darckRed","ProductsSection","isLoading","NotFaundMessage","FiltersBoard","withError","query","history","useHistory","location","useLocation","categories","useStorage","populatedCategories","filter","category","quantity","useState","URLSearchParams","search","oldQuery","setIsLoading","get","setMaxPage","products","setProducts","setCategory","sorting","setSorting","title","setTitle","isFirstRender","setIsFirstRender","toString","append","useEffect","controller","AbortController","signal","fetch","res","json","data","total","parseInt","Math","ceil","document","querySelector","scrollTo","push","console","log","fechProducts","abort","useMenu","setSearch","map","index","FilterCategoryOptions","setCategoryPreferece","sortPreference","ProductsSectionSkeleton","ProductsSectionComponent","length","product","data-testid","item","thisProductInfo","_id","StyledSearchBar","form","SearchInput","input","SerchIconeWrapper","SearchIcone","img","SearchBar","placeholder","onSubmit","preventDefault","searchString","type","src","loupe","alt","Container","Item","figure","ImgContainer","TextLine","SkeletonItem","ProductsSectionSkeletom","article","Description","ProductLink","h3","Size","Price","isLoaded","defaultImage","Img","MenuItem","setIsLoaded","onLoad","id","pathname","price","size","children","FilerCategoryOptions","handelChange","Table","TableHeader","TableCells","OrdersTableSkeleton","token","DELETE","deleteOrderAPI","Page","lightYellow","TableHead","thead","TableWrapper","OrdersTable","table","lihgtBoxShadow","CancelOrderButton","button","disabled","NotFounMessage","NotFounIcone","RefreshButton","RefreshIcone","UserOrdersPage","setNotification","currentUser","deleteOrder","stopPropagation","setIsLoadingPage","handleRefresh","orders","setOrders","refreshCount","setRefreshCount","headers","Headers","setting","method","ordersAPI","Date","now","seeDetails","orderID","useUserOrdersPage","refreshIcone","as","Link","to","order","states","date","toLocaleString","split","client","address","reverse","find","state","confirmed"],"mappings":"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","file":"static/js/8.e9d45858.chunk.js","sourcesContent":["\r\nimport styled  from 'styled-components'\r\n\r\n   export  const Button= styled.a`\r\n     box-shadow: ${props => props.theme.lightBoxShadow};\r\npadding: 15px 40px;\r\ncolor:#fff;\r\nwidth:max-content;\r\n  background:${props => props.theme.darckYellow};\r\n  text-transform: uppercase;\r\n  text-align:center;\r\n  font-size: 16px;\r\n  font-family: \"Oswald\", sans-serif;\r\n  font-weight:600px;\r\n line-height:23.5px;\r\n  cursor:pointer;\r\n  letter-spacing:2px;\r\n  border-radius:4px;\r\n    text-decoration: none;\r\n\r\n    transform:'${(props)=>(props.small ? \"scale(0.7)\" : \"scale(1)\")}';\r\n  transition:all 0.5s ease;\r\n  &:hover{\r\n    background-color:${props => props.theme.black};\r\n  }\r\n  & > * {\r\n    cursor:pointer;\r\n  }\r\n    @media screen and (max-width: 550px){\r\n   transform:scale(0.8);\r\n`;\r\nexport const ButtonPrimary = styled(Button)`\r\n  background:${props => props.theme.orange};\r\n`;\r\n\r\n\r\n\r\n","import styled  from 'styled-components'\r\n\r\n\r\nexport const OptionList = styled.select`\r\n    color: rgb(0 0 0 / 50%);\r\n    padding: 7px;\r\n    border-radius: 5px;\r\n    outline: none;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    margin: 0;\r\n    border: none;\r\n    margin-bottom: 20px;\r\n    background: #fff;\r\nbox-shadow:  1px 1px 6px 0px #ccc;\r\n    text-transform: capitalize;\r\n    margin: 0 20px 20px auto;\r\n\r\n`\r\nexport const Option = styled.option`\r\n&:checked{\r\n   background: #fcba1c;\r\n}\r\n`\r\nexport default function SortProductsOptions({setSortPreferece,defaultValue}){\r\n\r\n\r\nreturn(\r\n<OptionList name=\"sortProductBy\" value={defaultValue} onChange={(e) => setSortPreferece(e.target.value)}>\r\n<Option value=\"-createdAt\" >M√°s recientes</Option>\r\n<Option value=\"createdAt\" >M√°s antiguos</Option>\r\n<Option value=\"price\" >Menor precio</Option>\r\n<Option value=\"-price\" >Mayor precio</Option>\r\n<Option value=\"-sold\" >Populares</Option>\r\n\r\n</OptionList>\r\n\r\n);\r\n\r\n}","\r\nimport styled from 'styled-components'\r\n\r\nexport const ButtonsWrapper = styled.div`\r\ndisplay:flex;\r\njustify-content:center;\r\nwidth:100%;\r\ngap:15px;\r\n&> button{\r\n  padding: 5px 10px 6px;\r\n  cursor:pointer;\r\n  background:${props => props.theme.black};\r\n    color:${props => props.theme.darckYellow};\r\nbox-shadow:${props => props.theme.lightBoxShadow};\r\n    border:transparent;\r\n    outline:transparent;\r\n    fornt-size:20px;\r\n    font-family:oswald;\r\n    lettter-spacing: 1px;\r\n    border-radius: 10px;\r\n}\r\n@media screen and (min-width:500px){\r\n  &> button{\r\n    transform:scale(1.1);\r\n  }\r\n}\r\n`;\r\nexport default function PaginationButtons({page,maxPage,setPage}){\r\n  return(\r\n    <ButtonsWrapper>\r\n          {\r\n            (page > 1) ? <button onClick={(e) => setPage(page - 1)} >\r\n           {'<< '}Prev</button> : null\r\n          }\r\n          {\r\n            (page < maxPage) ? <button onClick={(e) => setPage(page + 1)} >\r\n              Next{' >>'}</button> : null\r\n          }\r\n        </ButtonsWrapper>\r\n  );\r\n}","import styled from 'styled-components'\r\nimport {withError} from './../withError'\r\nimport { LoaderSpinner } from './../LoaderSpinner'\r\nimport ProductsSectionSkeleton from '../ProductsSectionSkeleton'\r\nimport useMenu from '../../hooks/useMenu'\r\nimport SearchBar from '../MenuSearchBar'\r\nimport SortProductsOptions from '../SortProductsOptions'\r\nimport FilterCategoryOptions from '../FilterCategoryOptions'\r\nimport PaginationButtons from '../PaginationButtons'\r\nimport  ProductsSectionComponent from './ProductsSection'\r\n\r\nconst StyledMenu = styled.main`\r\nmin-height:100vh;\r\nwidth:100vw;\r\npadding: 65px 0 20px;\r\nmargin:0;\r\nmargin-bottom:20px;\r\ntext-aling:center;\r\n\r\n`;\r\nexport const SectionTitle = styled.h2`\r\ntext-align:center;\r\ntext-transform: uppercase;\r\n    margin-bottom: 40px;\r\ncolor:${(props) => (props.light ? \"#fff\" : \"#fcba1c\")};\r\n text-shadow: ${props => props.theme.darckTextShadow};\r\n`;\r\nconst MenuWrapper = styled.section`\r\ndisplay:flex;\r\nflex-direction: column;\r\nflex-wrap: wrap;\r\npadding-bottom: 20px ;\r\nwidth:100%;\r\n    & >${LoaderSpinner} {\r\n  position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    z-index: 500;\r\n    margin: -60px 0  0 -60px ;\r\n\r\n}\r\n`;\r\nconst CategoryTitle = styled.h4`\r\n    text-align: center;\r\n    line-height: 15px;\r\n    color: #fcba1c;\r\nfont-size: 25px;\r\n    margin: 10px 5px;\r\n text-shadow: ${props => props.theme.darckTextShadow};\r\n    text-transform: capitalize;\r\n&:before {\r\n  content:\".\";\r\n}\r\n`\r\nconst SearchBarWrapper = styled.div`\r\nwidth:100vw;\r\n    margin: 30px auto 40px\r\n`;\r\nconst CategoryWrapper = styled.section`\r\n    width: 100%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    background: ${props => props.theme.darckRed};\r\n    justify-content: center;\r\n    margin: -10px 0 20px;\r\n    padding:  20px 15px;\r\n    box-shadow: inset 0 0 20px 0 #1111118c;\r\n\r\n`;\r\nexport const ProductsSection = styled.div`\r\n    &:before{\r\n    display: ${props => props.isLoading ? 'block' : 'none'};\r\n      position:absolute;\r\n      content:\" \";\r\n      top:0;\r\n      left:0;\r\n    right:0;\r\n    bottom:0;\r\n    background:#ffffff57;\r\n    z-index:400;\r\n    }\r\n    width: 100%;\r\n    gap: 30px;\r\n    display: grid;\r\n    padding: 0 15px 30px;\r\n    grid-template-columns: repeat( auto-fit,minmax(250px,300px) );\r\n    max-width: 1000px;\r\n    margin: 0 auto;\r\njustify-content: center;\r\n\r\n`;\r\nexport const NotFaundMessage = styled.h4`\r\nmargin-top: 20px;\r\ndisplay:block;\r\nwidth:100%;\r\n`;\r\n\r\nconst FiltersBoard = styled.div`\r\n    flex-wrap: wrap;\r\n    margin: 0 15px 20px;\r\n    display: flex;\r\n    align-items: center;\r\n    max-width: max-content;\r\n    & > select {\r\n      margin: 0 10px 10px 0;\r\n\r\n}\r\n\r\n`;\r\n\r\nfunction Menu() {\r\n\r\nconst {isLoading, maxPage, products,populatedCategories,sorting,page,setPage, setCategory, setSorting,setTitle,isFirstRender,category,title} = useMenu()\r\n\r\n\r\n  return (\r\n\r\n\r\n    <StyledMenu>\r\n\r\n      <SectionTitle>Men√∫</SectionTitle>\r\n\r\n <SearchBarWrapper>\r\n\r\n          <SearchBar setSearch={setTitle}   defaultValue={title}/>\r\n        </SearchBarWrapper>\r\n      <MenuWrapper>\r\n\r\n\r\n\r\n        <CategoryWrapper >\r\n          {populatedCategories?.map((category, index) =>\r\n\r\n            <CategoryTitle key={index}>{category.name}</CategoryTitle>\r\n\r\n          )}\r\n        </CategoryWrapper >\r\n\r\n\r\n\r\n\r\n        <FiltersBoard>\r\n          <FilterCategoryOptions defaultValue={category} categories={populatedCategories} setCategoryPreferece={setCategory}  />\r\n          <SortProductsOptions defaultValue={sorting} setSortPreferece={setSorting} sortPreference={sorting} />\r\n        </FiltersBoard>\r\n\r\n  {isLoading &&<LoaderSpinner />}\r\n\r\n{ (isLoading && isFirstRender  )?  <ProductsSectionSkeleton /> :\r\n\r\n<ProductsSectionComponent isLoading={isLoading} products={products}/>\r\n }\r\n\r\n      </MenuWrapper>\r\n\r\n<PaginationButtons setPage={setPage} page={page} maxPage={maxPage} />\r\n\r\n\r\n    </StyledMenu>\r\n\r\n  );\r\n}\r\n\r\nexport default withError(Menu)","import { useEffect, useState} from 'react'\r\nimport {useHistory,useLocation} from 'react-router-dom'\r\nimport {useStorage} from '../context/useStorage'\r\n\r\n\r\n\r\nexport default function useMenu(){\r\nconst history = useHistory()\r\nconst location = useLocation()\r\n    const {categories} = useStorage()\r\n\r\n let populatedCategories = categories?.filter(category => category?.quantity > 0)\r\n\r\n\r\n  let sizeLimit = 6\r\n  let activeProducts = true\r\n\r\n  const [oldQuery, setOldQuery] = useState( new URLSearchParams(location.search))\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [page, setPage] = useState(oldQuery.get('page') || 1)\r\n  const [maxPage, setMaxPage] = useState(1)\r\n  const [products, setProducts] = useState([])\r\n  const [category, setCategory] = useState(oldQuery.get('category') || \"all\")\r\n  const [sorting, setSorting] = useState(oldQuery.get('sort')||\"-createdAt\")\r\n  const [title, setTitle] = useState(oldQuery.get('title')|| \"\")\r\nconst [isFirstRender, setIsFirstRender] = useState(true)\r\n\r\n let query ;\r\n\r\nif(isFirstRender){\r\nquery = new URLSearchParams(oldQuery.toString())\r\n\r\n}else{\r\n query = new URLSearchParams() ;\r\n  query.append('active', activeProducts)\r\n  query.append('sort', sorting)\r\n  query.append('page', page)\r\n  query.append('limit', sizeLimit)\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n\r\n   if (category !== \"all\") {\r\n        query.append('category', category)\r\n      }\r\n if (title !== \"\") {\r\n      query.append('title', title)\r\n    setSorting('-createdAt')\r\n    setCategory('all')\r\n      }\r\n\r\n       setPage(1)\r\n  }, [sorting,category,title])\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    const controller = new AbortController()\r\n    const signal = controller.signal\r\n    setIsLoading(true)\r\n\r\n    const fechProducts = async () => {\r\n\r\n      try {\r\n\r\n        let res = await fetch(`/api/products?${query}`, { signal, })\r\n        let json = await res.json()\r\n\r\n        setProducts(json.data)\r\n\r\n        let total = parseInt(json.total)\r\n\r\n        setMaxPage(Math.ceil(total / sizeLimit))\r\n\r\n\r\n\r\n\r\ndocument.querySelector('body').scrollTo(0,100)\r\n        setIsLoading(false)\r\n        setIsFirstRender(false)\r\n\r\n\r\n return history.push(`/menu?${query}`)\r\n\r\n      } catch (err) {\r\n        if (err.name === 'AbortError') {\r\n          console.log('Fetch Canseled: caught abort')\r\n        } else {\r\n\r\n          console.log(err)\r\n\r\n        }\r\n      }\r\n    }\r\n    fechProducts()\r\n\r\n    return () => {\r\n\r\n      controller.abort()\r\n\r\n    }\r\n  }, [title,sorting,page,category])\r\n\r\n\r\n\r\n\r\nreturn {isLoading, maxPage, products,populatedCategories,page,setPage,  setCategory, setSorting,setTitle,isFirstRender,sorting,category,title}\r\n\r\n}","import styled from 'styled-components'\r\nimport Item from './MenuItem'\r\nimport AddToCartButton from '../AddToCartButton'\r\n\r\n\r\nexport const ProductsSection = styled.div`\r\n    &:before{\r\n    display: ${props => props.isLoading ? 'block' : 'none'};\r\n      position:absolute;\r\n      content:\" \";\r\n      top:0;\r\n      left:0;\r\n    right:0;\r\n    bottom:0;\r\n    background:#ffffff57;\r\n    z-index:400;\r\n    }\r\n    width: 100%;\r\n    gap: 30px;\r\n    display: grid;\r\n    padding: 0 15px 30px;\r\n    grid-template-columns: repeat( auto-fit,minmax(250px,300px) );\r\n    max-width: 1000px;\r\n    margin: 0 auto;\r\njustify-content: center;\r\n\r\n`;\r\nexport const NotFaundMessage = styled.h4`\r\ndisplay:block;\r\nwidth:100%;\r\nmargin 20px 0;\r\ntext-align:center;\r\npadding: 0 10px;\r\n`;\r\n\r\nexport default function ProductsSectionComponent({isLoading,products}){\r\n\r\nreturn(\r\n<ProductsSection>\r\n\r\n{\r\n( (!isLoading)   &&  (products?.length ===  0)) ?\r\n            <NotFaundMessage>No se han encontrado coincidencias, intenta de nuevo!!</NotFaundMessage>\r\n            :\r\n            products?.map(product =>\r\n            <Item data-testid='productItem' key={product._id} item={product} >\r\n                   <AddToCartButton thisProductInfo={product}/>\r\n            </Item>\r\n            )\r\n}\r\n</ProductsSection>\r\n\r\n\r\n)\r\n}","export default __webpack_public_path__ + \"static/media/loupe.21575f61.svg\";","import styled from 'styled-components'\r\nimport loupe from '../img/loupe.svg'\r\n\r\nconst StyledSearchBar = styled.form`\r\nwidth:max-content;\r\nmargin:0 auto;\r\nposition:relative;\r\n`;\r\nconst SearchInput = styled.input`\r\nposition:relative;\r\nwidth:200px;\r\npadding: 8px;\r\npadding-left: 15px;\r\nborder-radius: 15px;\r\noutline: none;\r\nbox-shadow: ${props => props.theme.lightBoxShadow};\r\ntransition: all 0.5s ease;\r\nborder:none;\r\nmargin-left: -6px;\r\nposition: relative;\r\n&:focus{\r\n  width:250px;\r\nbox-shadow: 0 0 10px rgba(0,0,0,0.2);\r\n\r\n}\r\n&::placeholder {\r\n    font-size: 14px;\r\n\r\n}\r\n&:focus + div{\r\n  margin-left: 210px;\r\n\r\n}\r\n&::-webkit-search-cancel-button{\r\n  display:none;\r\n}\r\n`;\r\nconst SerchIconeWrapper = styled.div`\r\nwidth:30px;\r\nheight:30px;\r\nposition:absolute;\r\nmargin-top:-34px;\r\nmargin-left: 160px;\r\ntransition: all 0.5s ease;\r\ntransform:scale(0.7);\r\n`\r\nconst SearchIcone = styled.img`\r\nheight: 100%;\r\n`;\r\nexport default function SearchBar({setSearch ,placeholder,defaultValue}){\r\n\r\nconst resetFilter = (e) =>{\r\n  if(e.target.value ===\"\"){\r\nsetSearch(\"\")\r\n  }\r\n}\r\n\r\nconst handelSubmit = (e) =>{\r\n e.preventDefault()\r\n\r\n  let searchString = e.target?.search?.value\r\nsetSearch(searchString)\r\n}\r\n  return(\r\n<StyledSearchBar onSubmit={handelSubmit}>\r\n<SearchInput name=\"search\"  defaultValue={defaultValue || \"\"}placeholder={placeholder || 'Buscar...'} type=\"search\" onChange={resetFilter}/>\r\n<SerchIconeWrapper ><SearchIcone src={loupe} alt=\"search\"/></SerchIconeWrapper>\r\n</StyledSearchBar>\r\n  );\r\n\r\n}","import styled from 'styled-components'\r\n\r\nconst Container = styled.section`\r\n width: 100%;\r\n    gap: 30px;\r\n    display: grid;\r\n    padding: 10px 15px 30px;\r\n    grid-template-columns: repeat( auto-fit,minmax(250px,300px) );\r\n    max-width: 1000px;\r\n    margin: 0 auto;\r\njustify-content: center;\r\n`\r\n\r\nexport const Item = styled.figure `\r\ndisplay:flex;\r\nbox-sizing:border-box;\r\nborder-radius:5px;\r\nposition:relative;\r\nmin-width: 250px;\r\nheight:350px;\r\nflex-flow:column;\r\nover-flow:hidden;\r\npadding:20px;\r\nborder: 1px solid #00000026;\r\nbox-shadow: 1px 1px 5px #00000057;\r\nbackground:#f3f3f3;\r\n`\r\nconst ImgContainer = styled.div`\r\nheight:150px;\r\nwidth:100%;\r\npositon:relative;\r\ndisplay:flex;\r\nbackground:#fff;\r\nmargin-bottom:10px;\r\nborder-radius:5px;\r\nbox-shadow: 0 1px 3px #ccc;\r\n\r\n`;\r\nconst TextLine = styled.div`\r\nheight:20px;\r\nwidth:100%;\r\nbackground:#fff;\r\nmargin: 10px auto;\r\nbox-shadow: 0 1px 3px #ccc;\r\n`\r\nexport function SkeletonItem(){\r\n  return(\r\n  <Item>\r\n    <ImgContainer/>\r\n    <TextLine/>\r\n     <TextLine/>\r\n  </Item>\r\n  )\r\n}\r\nexport default function ProductsSectionSkeletom() {\r\n\r\n  return(\r\n<Container data-testid='products-skeketom'>\r\n\r\n\r\n    <SkeletonItem/>\r\n    <SkeletonItem/>\r\n    <SkeletonItem/>\r\n    <SkeletonItem/>\r\n    <SkeletonItem/>\r\n    <SkeletonItem/>\r\n\r\n</Container>\r\n\r\n  )\r\n}","import styled  from 'styled-components'\r\nimport { useState} from 'react'\r\nimport {useHistory,useLocation} from 'react-router-dom';\r\nimport defaultImage from '../../img/default-image.png';\r\n\r\n\r\n\r\nconst Item = styled.article `\r\ndisplay:flex;\r\nbox-sizing:border-box;\r\nborder-radius:5px;\r\nposition:relative;\r\n\r\nmin-width: 250px;\r\nheight:350px;\r\nflex-flow:column;\r\nover-flow:hidden;\r\npadding:20px;\r\nborder: 1px solid #00000026;\r\nbox-shadow: 1px 1px 5px #00000057;\r\n`\r\nconst Description =styled.div`\r\ndisplay:flex;\r\nalign-items:center;\r\npadding-bottom:5px;\r\n`;\r\nconst ProductLink =styled.h3`\r\ntext-decoration:none;\r\nmargin-bottom:2px;\r\n  color: #272727;\r\nletter-spasing:0;\r\ncursor:pointer;\r\nline-height:35px;\r\ntext-transform:capitalize ;\r\ntransition: all 0.5s;\r\n  font-family: \"Oswald\", sans-serif;\r\n  font-size: 25px;\r\n&:hover {\r\n      color: color: rgb(0 0 0 / 50%);\r\n\r\n}\r\n`\r\n\r\nconst Size = styled.small`\r\nalign-self: flex-start;\r\n    color: rgba(0,0,0,0.8);\r\n    font-weight: 600;\r\n    margin: 10px;\r\n    margin-top: 8px;\r\n`;\r\nconst Price = styled.h4 `\r\n    align-self: end;\r\n    color: #fcba1c;\r\n    margin:0;\r\n&:before{\r\n  content:\"$\";\r\n}\r\n`\r\n\r\nconst ImgContainer = styled.div`\r\nheight:150px;\r\nwidth:100%;\r\noverflow:hidden;\r\npositon:relative;\r\ndisplay:flex;\r\njustify-content:center;\r\nmargin-bottom:10px;\r\nborder-radius:5px;\r\nbox-shadow: 0 1px 3px #ccc;\r\n    background-image: ${props => props.isLoaded ? 'none' : `url(${defaultImage})`};\r\n    background-repeat: no-repeat;\r\n    background-size: auto 100%;\r\n    backface-visibility: hidden;\r\n    background-position: center;\r\n`;\r\nconst Img = styled.img`\r\ntransition:all 0.5s ease;\r\nheight:100%;\r\n&:hover{\r\n  transform:scale(0.8);\r\n}\r\n\r\n`;\r\n function MenuItem(props){\r\n  let history = useHistory()\r\n let location = useLocation()\r\n  const item = props.item;\r\n  const [isLoaded,setIsLoaded] = useState(false)\r\n\r\n\r\nconst handleRedirect = (id) =>{\r\n  return  history.push({\r\n  pathname: '/menu/'+id,\r\n  search: '?from='+location.pathname,\r\n\r\n})\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  return(\r\n  <Item data-testid='productItem' key={item._id}>\r\n\r\n<ImgContainer isLoaded={isLoaded}>\r\n\r\n<Img src={item?.img} onLoad={()=> setIsLoaded(true)} alt={item.name}></Img>\r\n\r\n\r\n\r\n</ImgContainer>\r\n\r\n      <ProductLink onClick={ () => handleRedirect(item._id)}>{item.name}</ProductLink>\r\n   <Description><Price >{item.price}</Price> <Size>{item.size}  </Size>  </Description>\r\n\r\n          {\r\n          props.children\r\n          }\r\n\r\n\r\n   </Item>\r\n   );\r\n}\r\n\r\nexport default MenuItem\r\n","\r\nimport {Option,OptionList} from './SortProductsOptions'\r\n\r\nexport default function FilerCategoryOptions({categories,setCategoryPreferece,defaultValue}){\r\n\r\n  const handelChange = (e) =>{\r\n e.preventDefault()\r\n setCategoryPreferece(e.target.value)\r\n}\r\n\r\nreturn(\r\n<OptionList value={defaultValue} name=\"filterProductsByCategory\" onChange={(e) =>handelChange(e)}>\r\n\r\n<Option value=\"all\" >Todas las categor√≠as</Option\r\n>\r\n{categories?.map( category =>\r\n\r\n  <Option value={category.name} key={category._id} >{category.name}</Option>\r\n\r\n  )}\r\n\r\n\r\n</OptionList>\r\n\r\n);\r\n\r\n}","import styled from \"styled-components\";\r\n\r\nconst Table = styled.div`\r\n  width: 100%;\r\n  max-width: 900px;\r\n  margin: 20px auto 0;\r\n  background: gray;\r\n  box-shadow: 1px 1px 5px #00000057;\r\n  background: #f3f3f3;\r\n`;\r\nconst TableHeader = styled.div`\r\n  width: 100%;\r\n  height: 60px;\r\n  background: #ccc;\r\n  box-shadow: 1px 1px 5px #00000057;\r\n  border-bottom: 1px solid #ccc;\r\n`;\r\nconst TableCells = styled.div`\r\nwith:100%;\r\nheight:50px;\r\nbackground:white;\r\nmargin: 1px 0;\r\nbackground:#fff;\r\nborder-bottom:1px solid #ccc;\r\nbox-shadow: 0 1px 3px #ccc;\r\n\r\n\r\n}\r\n`;\r\n\r\nexport default function OrdersTableSkeleton() {\r\n  return (\r\n    <Table>\r\n      <TableHeader />\r\n      <TableCells />\r\n      <TableCells />\r\n      <TableCells />\r\n      <TableCells />\r\n      <TableCells />\r\n    </Table>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/refresh.f1c42ba5.svg\";","import { DELETE } from \"../utils/http\";\r\nasync function deleteOrderAPI({ token, id }) {\r\n  try {\r\n    await DELETE(`/api/orders/${id}`, token);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nexport default deleteOrderAPI;\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport useUserOrdersPage from \"../../hooks/useUserOrdersPage\";\r\nimport { ButtonPrimary } from \"../Buttons\";\r\nimport { SectionTitle } from \"../menu/Menu\";\r\nimport PaginationButtons from \"../PaginationButtons\";\r\nimport OrdersTableSkeleton from \"../OrdersTableSkeleton\";\r\nimport refreshIcone from \"../../img/refresh.svg\";\r\nimport { LoaderSpinner } from \"../LoaderSpinner\";\r\n\r\nconst Page = styled.main`\r\n  padding: 65px 5px;\r\n  min-height: 100vh;\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  text-align: center;\r\n  background: ${(props) => props.theme.lightYellow};\r\n  &:before {\r\n    display: ${(props) => (props.isLoading ? \"block\" : \"none\")};\r\n    position: absolute;\r\n    content: \" \";\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: #ffffff57;\r\n    z-index: 400;\r\n  }\r\n  & > ${LoaderSpinner} {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    z-index: 500;\r\n    margin: -60px 0 0 -60px;\r\n  }\r\n`;\r\nexport const TableHead = styled.thead`\r\n  background-color: ${(props) => props.theme.black};\r\n  color: ${(props) => props.theme.darckYellow};\r\n  & > tr th {\r\n    padding: 10px 0;\r\n    font-family: \"Oswald\", sans-serif;\r\n    font-size: 19px;\r\n  }\r\n`;\r\nexport const TableWrapper = styled.div`\r\n  max-width: 900px;\r\n  margin: 0 auto 40px;\r\n  overflow-x: scroll;\r\n`;\r\nexport const OrdersTable = styled.table`\r\n  width: 900px;\r\n  margin: 20px auto 0;\r\n  border-spacing: 10px;\r\n  border-collapse: collapse;\r\n  border: 2px solid ${(props) => props.theme.black};\r\n  box-shadow: ${(props) => props.theme.lihgtBoxShadow};\r\n  text-transform: capitalize;\r\n  & > tbody {\r\n    background: #fff;\r\n  }\r\n  & > tbody td span + span {\r\n    margin-right: 5px;\r\n  }\r\n  & > tbody td {\r\n    padding: 10px 0;\r\n    cursor: pointer;\r\n  }\r\n  & > tbody tr {\r\n    border-bottom: 1px solid;\r\n  }\r\n`;\r\n\r\nconst CancelOrderButton = styled.button`\r\n  padding: 8px 5px;\r\n  cursor: pointer;\r\n  outline: none;\r\n  margin: 5px;\r\n  border-radius: 10px 5px;\r\n  border: none;\r\n  font-family: \"Oswald\", sans-serif;\r\n  transition: all 0.5s;\r\n  opacity: ${(props) => (props.disabled ? \"0.4\" : \"1\")};\r\n  &:hover {\r\n    background: ${(props) => (props.disabled ? \"unset\" : \"#cdc8c8\")};\r\n  }\r\n`;\r\nconst NotFounMessage = styled.div`\r\n  padding: 30px 0;\r\n  & > h3 {\r\n    margin-bottom: 40px;\r\n  }\r\n  @media screen and (max-width: 450px) {\r\n    font-size: 25px;\r\n  }\r\n  & > ${ButtonPrimary} {\r\n    padding: 15px 30px;\r\n  }\r\n`;\r\nconst NotFounIcone = styled.h2`\r\n  font-size: 50px;\r\n`;\r\nexport const RefreshButton = styled.div`\r\n  cursor: pointer;\r\n  padding: 0 10px;\r\n  align-items: center;\r\n  border-radius: 5px;\r\n  height: 40px;\r\n  box-shadow: ${(props) => props.theme.lihgtBoxShadow};\r\n  background: ${(props) => props.theme.black};\r\n\r\n  margin: -46px 0 10px auto;\r\n  width: max-content;\r\n  display: flex;\r\n  transform: scale(0.7);\r\n  transition: all 0.3s ease;\r\n  &:hover {\r\n    transform: scale(0.75);\r\n  }\r\n`;\r\n\r\nexport const RefreshIcone = styled.img`\r\n  height: 50%;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport default function UserOrdersPage({ setNotification }) {\r\n  const {\r\n    seeDetails,\r\n    handleRefresh,\r\n    setPage,\r\n    page,\r\n    isLoading,\r\n    maxPage,\r\n    orders,\r\n    isFirstRender,\r\n    deleteOrder,\r\n  } = useUserOrdersPage({ setNotification });\r\n\r\n  return (\r\n    <Page isLoading={isLoading}>\r\n      {isLoading ? <LoaderSpinner /> : null}\r\n\r\n      <SectionTitle light>Mis Pedidos</SectionTitle>\r\n\r\n      <RefreshButton onClick={() => handleRefresh()}>\r\n        <RefreshIcone\r\n          onClick={() => handleRefresh()}\r\n          src={refreshIcone}\r\n          title=\"Refrescar P√°gina\"\r\n        />\r\n      </RefreshButton>\r\n\r\n      {isLoading && isFirstRender && <OrdersTableSkeleton />}\r\n\r\n      {!isLoading && !isFirstRender && orders?.length === 0 && (\r\n        <NotFounMessage>\r\n          <NotFounIcone>üë©üèª&zwj;üç≥</NotFounIcone>\r\n          <h3>Ning√∫n pedido realizado, tienes hambre?</h3>\r\n\r\n          <ButtonPrimary small as={Link} to=\"/menu\">\r\n            Ver Men√∫\r\n          </ButtonPrimary>\r\n        </NotFounMessage>\r\n      )}\r\n\r\n      {orders?.length !== 0 && (\r\n        <TableWrapper>\r\n          <OrdersTable>\r\n            <TableHead>\r\n              <tr>\r\n                <th>N¬∫ de Pedido</th>\r\n                <th>Fecha</th>\r\n                <th>Direcci√≥n</th>\r\n                <th>Total</th>\r\n                <th>Estado</th>\r\n                <th>Acciones</th>\r\n              </tr>\r\n            </TableHead>\r\n            <tbody>\r\n              {orders?.map((order) => (\r\n                <tr key={order?._id} onClick={(e) => seeDetails(order._id)}>\r\n                  <td>{order?.orderID}</td>\r\n                  <td>\r\n                    <span>\r\n                      {\r\n                        new Date(order?.states[0].date)\r\n                          .toLocaleString()\r\n                          ?.split(\" \")[0]\r\n                      }\r\n                    </span>\r\n                    <br></br>\r\n                    <span>\r\n                      {\r\n                        new Date(order?.states[0].date)\r\n                          .toLocaleString()\r\n                          ?.split(\" \")[1]\r\n                      }\r\n                    </span>\r\n                  </td>\r\n                  <td>{order.client[0].address}</td>\r\n                  <td>${order?.total}</td>\r\n                  <td>\r\n                    {\" \"}\r\n                    <b>\r\n                      {\r\n                        [...order?.states]\r\n                          .reverse()\r\n                          .find((state) => state.confirmed === true).name\r\n                      }\r\n                    </b>\r\n                  </td>\r\n\r\n                  <td>\r\n                    <CancelOrderButton\r\n                      disabled={\r\n                        order?.states[1].confirmed === true ? true : false\r\n                      }\r\n                      onClick={(e) => deleteOrder(e, order._id)}\r\n                    >\r\n                      Cancelar Pedido\r\n                    </CancelOrderButton>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </OrdersTable>\r\n        </TableWrapper>\r\n      )}\r\n\r\n      <PaginationButtons setPage={setPage} page={page} maxPage={maxPage} />\r\n    </Page>\r\n  );\r\n}\r\n","import {useHistory} from 'react-router-dom'\r\nimport {useState, useEffect } from 'react'\r\nimport {useStorage} from '../context/useStorage'\r\nimport deleteOrderAPI from '../API/deleteOrderAPI'\r\n\r\nexport default function useUserOrdersPage({setNotification}){\r\n\r\nconst history = useHistory()\r\nconst {token,setIsLoading,currentUser} = useStorage()\r\n\r\n\r\n////redirects to order details page with order id as url parameter\r\n\r\nconst seeDetails = (orderID) =>{\r\nsetIsLoading(true)\r\n history.push(`/myAccount/myOrders/${orderID}` )\r\n}\r\nconst deleteOrder = async(e,id) =>{\r\n e.stopPropagation();\r\n\r\nif (!e.target.disabled ){\r\n\r\nsetIsLoadingPage(true)\r\nawait deleteOrderAPI({token,id})\r\nhandleRefresh()\r\n\r\n\r\n}\r\n}\r\n\r\n  let query = new URLSearchParams();\r\n    let sizeLimit = 5\r\n\r\n  const[isLoading,setIsLoadingPage] = useState(false)\r\n    const [page, setPage] = useState(1)\r\n    const [maxPage, setMaxPage] = useState(1)\r\n    const [orders, setOrders] = useState([])\r\nconst [isFirstRender, setIsFirstRender] = useState(true)\r\nlet [refreshCount,setRefreshCount] = useState(0)\r\n\r\n///add  search params to the url query\r\n\r\n   query.append('page',page)\r\n   query.append('limit',sizeLimit)\r\n   query.append('sort',\"-createdAt\")\r\n\r\n\r\n////get all user orders\r\n\r\nuseEffect(() => {\r\n     setNotification(0)\r\n  const controller = new AbortController()\r\n const signal = controller.signal\r\n\r\nconst ordersAPI = async () =>{\r\n    setIsLoadingPage(true)\r\n\r\n  try{\r\n\r\n\r\n       const headers = new Headers();\r\n      headers.append('Accept', 'application/json');\r\n      headers.append('Authorization', `Bearer ${token}`);\r\n\r\n\r\n    const setting = {\r\n          method: 'GET',\r\n          headers: headers,\r\nsignal,\r\n        }\r\n\r\n     let res = await fetch(`/api/orders/user/${currentUser._id}?${query}`,setting)\r\n     let json = await res.json()\r\n\r\n    setOrders(json.data)\r\n\r\n    let total = parseInt(json.total)\r\n\r\n     setMaxPage(Math.ceil(total/sizeLimit))\r\n\r\n\r\ndocument.querySelector('body').scrollTo(0,60)\r\n        setIsFirstRender(false)\r\n     setIsLoadingPage(false)\r\n\r\n  }catch(err){\r\n    if(err.name === 'AbortError'){\r\n   console.log('Fetch Canseled: caught abort')\r\n }else{\r\n\r\n     console.log(err)\r\n\r\n  }\r\n}\r\n  }\r\n\r\n  ordersAPI()\r\n\r\n     return () =>{\r\n     controller.abort()\r\n   }\r\n\r\n },[page,refreshCount])\r\n\r\n\r\n\r\n const handleRefresh = () =>{\r\n\r\nsetRefreshCount( Date.now())\r\nsetPage(1)\r\n}\r\n\r\nreturn {seeDetails,handleRefresh,setPage,page,isLoading,maxPage,orders,isFirstRender,deleteOrder}\r\n\r\n}"],"sourceRoot":""}